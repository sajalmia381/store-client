<!-- component -->
<div class="h-screen w-screen overflow-y-auto flex items-center justify-center">
  <div class="w-full max-w-md">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="bg-white shadow-lg rounded px-12 pt-6 pb-8 mb-4">
      <!-- @csrf -->
      <div class="text-gray-800 text-2xl flex justify-center border-b-2 py-2 mb-4">Store API Login</div>
      <div class="mb-4">
        <label class="block text-gray-700 text-sm font-normal mb-2" for="id_email">Email</label>
        <input
          formControlName="email"
          class="
            shadow
            appearance-none
            border
            rounded
            w-full
            py-2
            px-3
            text-gray-700
            mb-3
            leading-tight
            focus:outline-none focus:shadow-outline
          "
          id="id_email"
          name="email"
          v-model="form.email"
          type="email"
          required
          autofocus
          placeholder="Email"
          autocomplete="username"
          />
        @if (emailField.touched && emailField.hasError('required')) {
          <p class="text-red-400 text-xs italic">Please fill out this field.</p>
        }
        @if ((emailField.touched && emailField.hasError('email')) || emailField.hasError('incorrect')) {
          <p
            class="text-red-400 text-xs italic"
            >
            Email is not valid.
          </p>
        }
        @if (emailField.touched && emailField.hasError('userNotFound')) {
          <p class="text-red-400 text-xs italic">User is not found!.</p>
        }
      </div>
      <div class="mb-6">
        <label class="block text-gray-700 text-sm font-normal mb-2" for="password"> Password </label>
        <input
          formControlName="password"
          class="
            shadow
            appearance-none
            border
            rounded
            w-full
            py-2
            px-3
            text-gray-700
            mb-3
            leading-tight
            focus:outline-none focus:shadow-outline
          "
          v-model="form.password"
          type="password"
          placeholder="Password"
          name="password"
          required
          autocomplete="current-password"
          />
        @if (passwordField.touched && passwordField.invalid) {
          <p class="text-red-400 text-xs italic">Password is not valid.</p>
        }
        @if (passwordField.hasError('incorrect')) {
          <p class="text-red-400 text-xs italic">Password is not correct.</p>
        }
      </div>
      <div class="flex items-center justify-between">
        <button
          [disabled]="isLoading || loginForm.invalid"
          class="px-4 py-2 rounded text-white inline-block shadow-lg bg-blue-500 hover:bg-blue-600 focus:bg-blue-700"
          type="submit"
          >
          Sign In
        </button>
        <a class="inline-block align-baseline font-normal text-sm text-blue-500 hover:text-blue-800" href="#"> Forgot Password? </a>
      </div>
      <a class="px-3 py-2 mt-5 text-sm text-primary hover:bg-gray-200 rounded inline-block" href="/">Go to home</a>
    </form>
  </div>
</div>
@if (isLoading) {
  <div class="global-loader flex items-center justify-center">
    <mat-spinner [strokeWidth]="3" [diameter]="50"></mat-spinner>
  </div>
}
